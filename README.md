# Analitical-Reports-YII1-MySQL
Analitical Reports YII1-MySQL
Задача:
Есть:
детальная таблица "Сделки" (Номер сделки, Покупатель, Поставщик, Дата (день), Товар, Стоимость, Профит, Стоимость достаки, ...). 
- Как правило, каждая сделка предполагает закупку нескольких наименований Товара данного Поставщика. 
- Покупатели могут делать закупки у данного Поставщика (и даже Страны) не каждый месяц.
справочные таблицы "Покупатели" (Покупатель, Город, Менеджер), "Поставщики" (Поставщик, Страна).
Требуется:
построить агрегированный (на уровень Месяца) отчёт (Покупатель, Страна, Дата (месяц), Стоимость, Профит, ...) с возможностью получения срезов по Диапазону периодов, Менденджерам, Странам, Городам, выводимым Показателям (стоимость, профит, стоимость доставки, ...).
Решение: 
1 фаза: "on-line" строить агрегированную таблицу Покупатель, Месяц, Постащик, ... .
2 фаза: При формировании отчёта:
- Расчитывать суммарные показатели - по строкам "Суммарная стоимость Товаров за выбранные периоды по данной Стране", ... , по колонкам - "Суммарная стоимость Товаров за выбранные периоды по всем Странам", "% изменения Суммарной стоимости к предыдущему периоду", ... 
- Автоматически заполнять Месяцы в которых не было Покупок пустыми значениями.
3. Формировать итоги по всей Компании.
4. фаза: Формировать "селекторы" - Показатели, Менеджер, Страна, Первый период, Последний период.

Так как, решение работает в режиме "on-line" обеспечивается возможность не только анализировать исторические данные (по срезам - Периоды, Регион, Менеджер), но и получать актульную информацию по Текущему месяцу (Объём продаж, Профит, % к предыдущему Месяцу и .д.).
 
